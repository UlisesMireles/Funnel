<div class="row" style="text-align: left;"><h3>Consulta general de estadisticas</h3></div>
<div class="row">
  <div class="row contenedorTabla">
    <!-- Mostrar un indicador de carga si la variable loading es true -->
    <!-- <div *ngIf="loading">Cargando...</div> -->
    <!-- *ngIf="!loading && stats.length > 0" -->
    <p-table

      #dt
      [stripedRows]="true"
      [value]="stats"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[10, 20, 50]"
      (onPage)="pageChange($event)"
      [showCurrentPageReport]="true"
      [first]="first"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} Registros"
      [globalFilterFields]="[
        'nombreEmpresa',
        'alias',
        'administrador',
        'nombreLicencia'
      ]"
    >

    <!-- <ng-template class="divAccionesTabla" #caption>
      <div class="row">
          <div class="col inDivDatatableHeader" style="text-align:right; margin-right:5px">
              <p-button label="" icon="pi pi-refresh" (click)="reset()"severity="secondary"
                  [ngStyle]="{'margin-right': '5px'}" />
              <p-button label="" icon="pi pi-plus" severity="secondary"
                  (click)="inserta()" />
          </div>
      </div>
  </ng-template> -->

      <ng-template #header>
        <tr class="custom-header">
          <th pSortableColumn="empresa">
            Nombre empresa
          </th>
          <th pSortableColumn="usuariosActivos">Usuarios Activos</th>
          <th pSortableColumn="usuariosRegistrados">
            Usuarios Registrados
          </th>
          <th pSortableColumn="oportunidadesActivas">
            Oportunidades Activas
          </th>
          <th pSortableColumn="oportunidadesRegistradas" >
            Oportunidades Regristradas
          </th>
          <th pSortableColumn="estatus">
            Estatus
          </th>
          <th pSortableColumn="descripcionEstatus">
            Descripcion Estatus
          </th>
        </tr>
        <tr class="custom-header2">
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
          <th>
            <p-select
              [options]="EstatusDropdown"
              [(ngModel)]="selectedEstatus"
              (onChange)="FiltrarPorEstatus()"
              placeholder="Seleccionar Estatus"
              optionLabel="label"
              optionValue="value"
            >
            </p-select>
          </th>
          <th></th>
        </tr>
      </ng-template>

      <ng-template #body let-stat>
        <tr class="custom-header3 custom-row filas">
          <!-- <td style="font-weight: bold;">{{ stat.nombreEmpresa }}</td>
          <td>{{ stat.alias }}</td>
          <td>{{ stat.urlSitio }}</td>
          <td>{{ stat.administrador }}</td>
          <td>{{ stat.activo === 1 ? "Activo" : "Inactivo" }}</td> -->
        </tr>
      </ng-template>
    </p-table>
  </div>
  <!-- <p-toast position="center"></p-toast> -->
</div>
<!-- <app-modal-empresas
  [(visible)]="modalVisible"
  [title]="'Editar Datos de '"
  (closeModal)="onModalClose()"
  (result)="manejarResultado($event)"
  [insertar]="insertar"
  [empresa]="empresaSeleccionada"
>
</app-modal-empresas> -->
